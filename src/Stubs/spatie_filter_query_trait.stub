<?php

declare(strict_types=1);

namespace App\Traits\FilterQueries;

use {{ modelNamespace }};
use App\Helpers\SearchTermEscaper;
use Illuminate\Database\Eloquent\Builder;
use Spatie\QueryBuilder\AllowedFilter;
use Spatie\QueryBuilder\QueryBuilder;

trait {{ class }}
{
    public static function getQuery(): QueryBuilder
    {
        return QueryBuilder::for({{ model }}::class)
            ->allowedFilters([
{{ allowedFilters }}
            ])
            ->allowedSorts([
{{ allowedSorts }}
            ])
            ->defaultSort('-created_at');
    }

{{ scopes }}
}
